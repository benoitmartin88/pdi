

pdi:
  metadata:
    input: int
    ni: int
    nj: int
    nig: int
    njg: int
    nit: int
    njt: int
    istart: int
    jstart: int
    rank: int
    nproc: int
  data: # values that can not be referenced using $syntax
    myrank: int
    reals: 
      type: double
      sizes: [$nj +2*$njg , $ni+2*$nig]
      subsizes: [$nj , $ni]
      starts: [$njg, $nig]
      global_sizes: [$njt, $nit]
      global_starts: [$jstart, $istart]

    values: 
      type: int
      sizes: [$nj +2*$njg , $ni+2*$nig]
      subsizes: [$nj , $ni]
      starts: [$njg, $nig]
      global_sizes: [$njt, $nit]
      global_starts: [$jstart, $istart]

  plugins:

    decl_hdf5:
      outputs:
        myrank:
          file: decl_hdf5_rank_$rank.h5
          select: $input=0
        reals:
          select: $input=0
          file: test_01_C_one_file.h5
        values:
          select: $input=0
          file: test_01_C_one_file.h5
      inputs:
        myrank:
          file: decl_hdf5_rank_$rank.h5
          select: $input=1
        reals:
          select: $input=1
          file: test_01_C_one_file.h5
        values:
          select: $input=1
          file: test_01_C_one_file.h5
