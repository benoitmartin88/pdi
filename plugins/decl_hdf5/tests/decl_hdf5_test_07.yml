metadata:
  pcoord: { size: 2, type: int }
  my_comm: MPI_Comm
data:
  matrix: { sizes: [ 2, 2 ], type: int }

plugins:
  mpi:
  decl_hdf5:
    file: data.h5
    communicator: $my_comm
    datasets:
      matrix_dataset:
        type: int
        sizes: [2, 2]
    write:
      matrix:
        dataset: matrix_dataset
        memory_selection:
          size:  [1, 1]
        dataset_selection:
          size:  [1, 1]
          start: ['$pcoord[0]', '$pcoord[1]']
    read:
      matrix:
        dataset: matrix_dataset
        memory_selection:
          size:  [2, 2]
        dataset_selection:
          size:  [2, 2]
