logging: trace
data:
  int_submatrix_0:
    type: array
    subtype: int
    size: [4, 4]
  int_submatrix_1:
    type: array
    subtype: int
    size: [4, 4]
  int_submatrix_2:
    type: array
    subtype: int
    size: [4, 4]
  int_submatrix_3:
    type: array
    subtype: int
    size: [4, 4]
  int_submatrix_left:
    type: array
    subtype: int
    size: [8, 4]
  int_submatrix_right:
    type: array
    subtype: int
    size: [8, 4]

plugins:
  decl_netcdf:
    - file: "test_05.nc"
      on_event: "write"
      variables:
        int_matrix_var:
          type: array
          subtype: int
          size: [8, 8]
          dimensions: ["height", "width"]
      write: 
        int_submatrix_0:
          variable: int_matrix_var
          variable_selection:
            start: [0, 0]
            subsize: [4, 4]
        int_submatrix_1:
          variable: int_matrix_var
          variable_selection:
            start: [0, 4]
            subsize: [4, 4]
        int_submatrix_2:
          variable: int_matrix_var
          variable_selection:
            start: [4, 0]
            subsize: [4, 4]
        int_submatrix_3:
          variable: int_matrix_var
          variable_selection:
            start: [4, 4]
            subsize: [4, 4]
    - file: "test_05.nc"
      on_event: "read"
      variables:
        int_matrix_var:
          type: array
          subtype: int
          size: [8, 8]
          dimensions: ["height", "width"]
      read:
        int_submatrix_left:
          variable: int_matrix_var
          variable_selection:
            start: [0, 0]
            subsize: [8, 4]
        int_submatrix_right:
          variable: int_matrix_var
          variable_selection:
            start: [0, 4]
            subsize: [8, 4]
