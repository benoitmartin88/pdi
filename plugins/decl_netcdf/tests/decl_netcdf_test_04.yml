.vars:
  - &int_scalar_var
    type: int
    attributes:
      scalar_attr: $scalar_attr
  - &int_array_var
    type: array
    subtype: int
    size: 32
    dimensions: ["time"]
    attributes:
      array_attr: $array_attr
.groups:
  - &scalar_group_value
    attributes:
      scalar_group_attr: $scalar_group_attr
  - &array_group_value
    attributes:
      array_group_attr: $array_group_attr

logging: trace
metadata:
  group_attr: int
  scalar_attr: int
  array_attr: int
  scalar_group_attr: int
  array_group_attr: int
data:
  int_scalar: int
  int_array: {type: array, subtype: int, size: 32}
plugins:
  decl_netcdf:
    - file: "test_04.nc"
      variables:
        scalar_group/data/int_scalar: *int_scalar_var
        array_group/data/int_array: *int_array_var
      groups:
        scalar_group/data: *scalar_group_value
        array_group/data: *array_group_value
      on_event: "write"
      write: 
        int_scalar:
          variable: scalar_group/data/int_scalar
        int_array:
          variable: array_group/data/int_array
    - file: "test_04.nc"
      variables:
        scalar_group/data/int_scalar: *int_scalar_var
        array_group/data/int_array: *int_array_var
      groups:
        scalar_group/data: *scalar_group_value
        array_group/data: *array_group_value
      on_event: "read"
      read:
        int_scalar:
          variable: scalar_group/data/int_scalar
        int_array:
          variable: array_group/data/int_array
