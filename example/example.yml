iter: 3
# an example with a list
datasize: [1024, 1024]
# an example with nested associative arrays
parallelism:
    width:  2
    height: 2
pdi:
    params: # values that can be referenced using $syntax
        height: int
        width: int
        pheight: int
        pwidth: int
        nb_iter: int
        iter: int
        coord: { size: 2, type: int }
    variables: # values that should not be referenced using $syntax
        main_field:
            type:     double
            sizes:    [$width, $height]     # if only one element, you can use size as a acalar
            subsizes: [$width-2, $height-2] # defaults to sizes
            starts:   [1, 1]                # defaults to [0, 0]
            order:    ORDER_C               # defaults to ORDER_C
            # the following are not handled by PDI but might be used by plugins
            
            #in: # specifies that the provided data is part of a bigger (constant) logical data
                #name: global_main_field # the global logical data
                #starts:
                    #- '$coord[0]*($width-2)'
                    #- '$coord[1]*($height-2)'
                    #- $iter
            
    plugins:
        # load the hdf5_per_process PDI plugin
        hdf5_per_process:
            # and here is its configuration
            outputs:
                main_field: # ref to a variable
                    select: $iter % 2 = 0 # an expression defining when to output the variable
                    file: output_${coord[0]}x${coord[1]}.hdf5
                    var: /iter_${iter}/main_field
                    mode: append_reopen # append_keep, overwrite, create
        # load the test_plugin PDI plugin
        #test_plugin: ~
