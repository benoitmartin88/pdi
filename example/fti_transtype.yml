# duration in seconds
duration: 65
# global [height, width] (excluding boundary conditions or ghosts)
datasize: [420, 60]
# degree of parallelism
parallelism: { height: 3, width: 1 }

# only the following config is passed to PDI
pdi:
  metadata: # type of small values for which PDI keeps a copy
    iter:   int                                            # current iteration id
    dsize:  { size: 2, type: array, subtype: int }         # local data size including ghosts/boundary
    psize:  { size: 2, type: array, subtype: int }         # number of processes in each dimension
    pcoord: { size: 2, type: array, subtype: int }         # coordinate of the process
  data: # type of values for which PDI does not keep a copy
    main_field: { size: [ '$dsize[0]', '$dsize[1]' ], type: array, subtype: double }
    fti_head: int
    fti_status: int
    mpi_comm: MPI_Comm_f
    mpi_comm_c: MPI_Comm

  plugins:
    mpi:
      transtype:
        mpi_comm: mpi_comm_c
    fti:
      config_file: fti_config.ini
      communicator: mpi_comm_c
      status: fti_status
      head: fti_head
      dataset:
        0: iter
        1: main_field
      snapshot_on: newiter
