pdi:
  metadata:
      input: int
      ni: int
      nj: int
      ni_ghost: int
      nj_ghost: int
      rank: int
  data: # values that can not be referenced using $syntax
      reals: 
          type: double
          sizes: [$ni, $nj]
          subsizes: [$ni - (2*$ni_ghost) , $nj - (2*$nj_ghost)] 
          starts: [$ni_ghost, $nj_ghost] # offset
          order: fortran
      values: 
          type: int
          sizes: [$ni , $nj]
          subsizes: [$ni - (2*$ni_ghost) , $nj - (2*$nj_ghost)] 
          starts: [$ni_ghost, $nj_ghost] # offset
          order: fortran
      #buffer used by utilities
      cp_reals: 
          type: double
          sizes: [$ni - (2*$ni_ghost) , $nj - (2*$nj_ghost)] 
      cp_values: 
          type: int
          sizes: [$ni - (2*$ni_ghost) , $nj - (2*$nj_ghost)] 

  plugins:
      utilities:
          extract_subarray:
              event: no_event
              in: reals
              out: cp_reals
          extract_subarray:
              event: no_event
              in: values
              out: cp_values

      hdf5_per_process:
          defaults:
              outputs:
                  select: 1 
                  file: test_03_rank_${rank}_f90_slice.h5
              inputs:
                  select: 1
                  file: test_03_rank_${rank}_f90_slice.h5
          outputs:
              ni:
              nj:
              ni_ghost:
              nj_ghost:
              cp_reals:
              cp_values:
          inputs:
              cp_reals:
              cp_values:
  
