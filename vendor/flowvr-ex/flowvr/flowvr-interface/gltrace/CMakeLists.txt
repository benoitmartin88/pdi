# CHECK FOR DEPENDENCIES
SET(GLTRACE_DEP FALSE)
IF(OPENGL_FOUND AND GLUT_FOUND)
  IF(APPLE)
      SET(GLTRACE_DEP TRUE)
  ELSE(APPLE)
    # NEED TO BE TESTED AS NO ALWAYS AVAILABLE WITH GLUT FOR SOME DISTRIB. 
    IF(GLUT_Xi_LIBRARY AND GLUT_Xmu_LIBRARY)
      SET(GLTRACE_DEP TRUE)
    ENDIF(GLUT_Xi_LIBRARY AND GLUT_Xmu_LIBRARY)
  ENDIF(APPLE)
ENDIF(OPENGL_FOUND AND GLUT_FOUND)



IF(GLTRACE_DEP)
      ADD_SUBDIRECTORY(src)
      FILE(GLOB include-files include/flowvr/*.h)
      INSTALL(FILES ${include-files} DESTINATION include/flowvr/utils/gltrace)

ELSE(GLTRACE_DEP)
  SET(BUILD_FLOWVR_GLTRACE FALSE CACHE BOOL "Build FlowVR-Trace" FORCE)
  MESSAGE(WARNING "FlowVR GLTrace: missing dependencies. BUILD_FLOWVR_GLTRACE option turned OFF. (OPENGL_FOUND=${OPENGL_FOUND} GLUT_FOUND=${GLUT_FOUND}. For linux only:GLUT_Xi_LIBRARY=${GLUT_Xi_LIBRARY} GLUT_Xmu_LIBRARY=${GLUT_Xmu_LIBRARY}). BUILD_FLOWVR_GLTRACE option turned OFF")
ENDIF(GLTRACE_DEP)



